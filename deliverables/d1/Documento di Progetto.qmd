---
title: | 
  ![](../../.common-media/logo-unitn-ardeeno-512.png){width=10cm}

  Ardeeno WebApp
subtitle: |
  T41-SE22

  D1-Documento di Progetto

  v1.0
author: [alessandro.manfucci@studenti.unitn.it, enrico.cescato@studenti.unitn.it ,m.sottocornola-1@studenti.unitn.it]
date: "10-10-2022"
lang: it
format:
  pdf:
    include-in-header:
      text: |
        \usepackage{graphicx}
        \usepackage{wrapfig}
    documentclass: article
    classoption: titlepage
    toc: true
    toc-title: Indice
    papersize: a4
    number-sections: true
    geometry:
    - top=1in
    - bottom=1in
    - right=1in
    - left=1in
---

\pagebreak

# Abstract {.unlisted .unnumbered}

Questo documento descrive ad alto livello -- e in maniera non tecnica -- il sistema da realizzare. Vengono definiti gli obiettivi e -- in linguaggio naturale -- i requisiti funzionali e non funzionali. Infine, vengono mostrati dei *mock-up* dell'applicazione e fatte le prime considerazioni su come il BackEnd del sistema dovrà interagire con i sistemi esterni.

# Obiettivi del progetto
Il progetto ha come obiettivo lo sviluppo di una WebApp che gestisca la vendita di impianti *Internet of Things* (IoT), la loro installazione, manutenzione, riparazione e dismissione. Inoltre, l'applicazione permetterà ai clienti di visualizzare le misurazioni dei propri impianti e richiedere eventuali interventi di riparazione.  
Gli impianti IoT considerati sono costituti da un insieme omogeneo di sensori distribuiti geograficamente, le cui misurazioni sono raccolte ad intervalli regolari da una stazione di *polling* compresa nell'impianto. I parametri misurati variano a seconda del tipo di impianto.

Nel dettaglio:

1. Un utente anonimo potrà visualizzare le informazioni generali relative all'azienda, le recensioni dei clienti, i tipi di impianto disponibili e il loro costo. L'utente potrà inoltre registrarsi come cliente o autenticarsi. Un utente autenticato -- cliente o dipendente dell'azienda -- potrà visualizzare e modificare i propri dati personali.

2. Un cliente potrà compiere tutte le attività di visualizzazione consentite ad un utente anonimo; in aggiunta, potrà acquistare gli impianti resi disponibili dall'azienda, visualizzare quelli già in suo possesso -- attivi o dismessi -- e accedere alle misurazioni effettuate dai sensori. Avrà la possibilità di visualizzare lo stato di tutti gli interventi effettuati sui propri impianti e richiedere un intervento di riparazione per quelli ancora attivi. Inoltre, potrà recensire l'azienda.

3. Il sistema dovrà gestire gli interventi di cui ogni impianto necessita. I tipi di intervento sono:

    - installazione, all'acquisto dell'impianto;
    - manutenzione, annuale e solo se l'impianto è attivo;
    - riparazione, su richiesta del cliente;
    - dismissione, dopo cinque anni dall'acquisto dell'impianto.

    Ogni intervento ha uno stato che evolve nel tempo: richiesto, assegnato in corso o assegnato concluso. Analogamente, ogni impianto ha uno stato che evolve nel tempo: attivo o dismesso.  
    Un supervisore potrà quindi visualizzare le informazioni di tutti gli interventi e, per gli interventi richiesti, assegnare un tecnico in una certa data.

4. Un tecnico potrà visualizzare gli interventi a lui assegnati -- in corso o conclusi -- con i relativi dati del cliente e dell'impianto. Per ogni intervento assegnato in corso, ad eccezione degli interventi di dismissione, avrà la possibilità di rimuovere e/o aggiungere dei sensori, distinguibili tramite codice a barre e coordinate geografiche. Ogni sensore ha uno stato che evolve nel tempo: attivo o dismesso. Un tecnico potrà inoltre inserire un resoconto e segnare l'intervento come concluso.

5. Un amministratore potrà compiere tutte le azioni consentite ad un supervisore; inoltre, potrà visualizzare le statistiche sugli impianti venduti e su tutti gli interventi. Potrà registrare, gestire e dimettere i dipendenti.  

\pagebreak
# Requisiti funzionali
Questo capitolo presenta i requisiti funzionali (RF) del sistema, raggruppati per ruolo.  
Un utente autenticato può essere cliente o dipendente dell'azienda e può compiere tutte le azioni consentite ad un utente anonimo. I dipendenti si suddividono in tecnici, supervisori e amministratori. Un amministratore può compiere tutte le azioni consentite ad un supervisore.

<!--
Il sistema deve consentire [ad XXX] di XXX attraverso un form [- raggiungibile da []() -] nel quale sono presenti i campi:
Il sistema - tramite la pagina mostrata da []() - deve permettere
Il sistema - attraverso la selezione effettuata in []() - deve (permettere|far visualizzare)
Il sistema - - deve far visualizzare una lista di XXX dove per ogni XXX si mostra: YYY, ZZZ; ed eventualmente KKK. Il sistema deve permettere di selezionare un XXX dalla lista. La lista deve avere ordine cronologico da data richiesta più recente a meno recente.
deve far visualizzare tutti i dati già mostrati in []() e inoltre
- tramite la pagina mostrata da []() - 
- attraverso la selezione effettuata in []() -
- raggiungibile da []() -
Il sistema deve consentire di filtrare la lista [di XXX] per:
Il sistema deve permettere di ordinare la lista [di XXX] per:
Gli XXX sono sempre ordinati per XXX.ATTR:
L'operazione di filtraggio non è disponibile.
-->

## Utente anonimo

### RF1 Visualizzazione presentazione {-}
Il sistema deve mostrare una pagina di presentazione che comprende una breve descrizione dell'azienda, una mappa che indica la posizione delle sedi, e i contatti (indirizzo email e numero di telefono).

### RF2 Visualizzazione vetrina {-}
Il sistema deve mostrare una lista dei modelli di impianto in vendita, dove per ognuno si mostra: nome del modello, nome del tipo, prezzo, immagine esemplificativa, superficie consigliata per il modello di impianto (in m$^2$) e lista dei parametri misurati. Tra i modelli di impianto visualizzati, il sistema deve permettere di selezionarne uno.  
Il sistema deve consentire di filtrare la lista dei modelli di impianto per: tipo, prezzo e superficie consigliata. I modelli di impianto sono sempre ordinati per prezzo crescente.

### RF2.1 Visualizzazione singolo modello di impianto {-}
Il sistema -- attraverso la selezione effettuata in [RF2](#rf2-visualizzazione-vetrina) -- deve mostrare tutte le informazioni del modello di impianto già mostrate in [RF2](#rf2-visualizzazione-vetrina) e, in aggiunta, una lista di tutte le recensioni del modello (*product reviews*). Per ogni recensione si mostra: nome dell'autore, valutazione in stelle (da una a cinque), data, titolo e descrizione.  
Il sistema deve consentire di filtrare la lista delle recensioni per: valutazione in stelle e data. Le recensioni sono sempre ordinate per data, dalla più recente alla meno recente.

### RF3 Visualizzazione recensioni {-}
Il sistema deve mostrare una lista delle dieci più recenti recensioni dell'azienda (*service reviews*) con almeno quattro stelle. Per ogni recensione si mostra: nome dell'autore, valutazione in stelle (da una a cinque), data, titolo e descrizione. Inoltre, il sistema deve mostrare il *TrustScore* dell'azienda, fornito dal servizio TrustPilot.  
Le recensioni sono sempre ordinate per data, dalla più recente alla meno recente. L'operazione di filtraggio non è disponibile.

### RF4 Registrazione cliente {-}
Il sistema deve permettere ad un utente anonimo di registrarsi come cliente, compilando un form con campi: nome, cognome, indirizzo email, indirizzo, numero di telefono e password (richiesta due volte al fine di evitare errori).

### RF5 Autenticazione {-}
Il sistema deve permettere ad un utente anonimo di autenticarsi, compilando un form con campi: indirizzo email e password.

### RF6 Conferma indirizzo email {-}
Il sistema deve inviare all'indirizzo email inserito in [RF4](#rf4-registrazione-cliente) un link ad una pagina per confermare tale indirizzo email; la conferma dell'indirizzo email avviene all'apertura del link. Quest'ultimo ha una scadenza di 24 ore e viene inviato nuovamente dalla pagina di autenticazione [RF5](#rf5-autenticazione), a seguito di un tentativo di accesso con indirizzo email non verificato. Se l'indirizzo email non è confermato, l'autenticazione non è permessa.

### RF7 Recupero password {-}
Il sistema -- attraverso la pagina mostrata in [RF5](#rf5-autenticazione) -- deve permettere ad un utente anonimo di specificare l'indirizzo email di autenticazione per cui si vuole cambiare la password associata. A tale indirizzo email arriverà il link ad una pagina, in cui, tramite un form, sarà possibile inserire la nuova password (richiesta due volte al fine di evitare errori); all'invio del form, la password verrà cambiata.  
Per [RNF2 Sicurezza](#rnf2-sicurezza), è consentito il cambio, ma non il recupero della password.

## Utente autenticato

### RF5.1 Logout {-}
Il sistema deve permettere ad un utente autenticato di effettuare il logout.

### RF8 Visualizzazione dati personali {-}
Il sistema deve consentire la visualizzazione dei dati immessi in fase di registrazione ([RF4](#rf4-registrazione---cliente) o [RF24](#rf24-registrazione-dipendenti)) sotto forma di lista. Per [RNF2 Sicurezza](#rnf2-sicurezza), la password non viene visualizzata.

### RF9 Modifica dati personali {-}
Il sistema -- attraverso un form raggiungibile da [RF8](#rf8-visualizzazione-dati-personali) o [RF25](#rf25-modifica-dati-dipendente) -- deve consentire la modifica dei dati immessi in fase di registrazione ([RF4](#rf4-registrazione---cliente) o [RF23](#rf23-registrazione-dipendenti)). In tale form, ogni campo è inizialmente vuoto ed è possibile riempirlo con un valore; all'invio del form, verranno modificati solo i campi non vuoti. La password viene richiesta due volte.

## Cliente

### RF10 Acquisto impianto {-}
Il sistema -- attraverso la selezione effettuata in [RF2](#rf2-visualizzazione-vetrina) -- deve permettere ad un cliente di effettuare l'acquisto dell'impianto selezionato, specificando indirizzo di installazione e superficie (in m$^2$), attraverso un form. All'invio del form, verrà richiesto il pagamento tramite PayPal. L'acquisto è considerato concluso quando il pagamento con PayPal è concluso. Quando questo avviene, il sistema inserisce una richiesta di intervento di installazione per l'impianto acquistato.

### RF11 Visualizzazione impianti acquistati {-}
Il sistema deve permettere ad un cliente di visualizzare la lista di tutti gli impianti acquistati (attivi e dismessi), dove per ognuno si mostra: id, superficie (in m$^2$), indirizzo, stato, data di acquisto e modello. Tra gli impianti visualizzati, il sistema deve permettere di selezionarne uno.  
Il sistema deve consentire di filtrare la lista degli impianti per: modello, tipo e stato. Gli impianti sono sempre ordinati per data di acquisto, dalla più recente alla meno recente.

### RF11.1 Visualizzazione singolo impianto (*dashboard*) {-}
Il sistema -- attraverso la selezione effettuata in [RF11](#rf11-visualizzazione-impianti-acquistati) -- deve mostrare tutte le informazioni dell'impianto selezionato già mostrate in [RF11](#rf11-visualizzazione-impianti-acquistati) e, in aggiunta, una lista di tutte le funzioni fornite dal sistema su quell'impianto, tramite una *dashboard*. Tra le funzioni visualizzate, il sistema deve permettere di selezionarne una.

### RF12 Visualizzazione misurazioni su *heatmap* {-}
Il sistema -- attraverso la selezione effettuata in [RF11.1](#rf11.1-visualizzazione-singolo-impianto-dashboard) -- deve mostrare sotto forma di *heatmap* le misurazioni di un parametro dell'impianto selezionato. Tale parametro può essere scelto da una lista di parametri dipendente dal tipo di impianto. All'apertura della *heatmap*, vengono mostrate le misurazioni più recenti; tramite due bottoni, è però possibile visualizzare tutte le misurazioni presenti nella base di dati all’atto di caricamento della pagina. La mappa utilizzata è fornita da OpenStreetMap.

### RF13 Visualizzazione misurazioni su tabella {-}
Il sistema -- attraverso la selezione effettuata in [RF11.1](#rf11.1-visualizzazione-singolo-impianto-dashboard) -- deve mostrare in una tabella le misurazioni dell'impianto selezionato. La tabella deve contenere le colonne: id del sensore, *timestamp* della misurazione, e una colonna per ogni parametro misurato. Per esempio, se si considera un impianto dove i parametri misurati sono temperatura, umidità, CO$_2$ e tVOC, la tabella deve avere la seguente struttura:

|ID|Timestamp|Temperatura [°C]|Umidità [%]|CO$_2$ [ppm]|tVOC [ppb]|
|---|---|---|---|---|---| 

Le misurazioni sono sempre ordinate per *timestamp*, dal più recente al meno recente. L'operazione di filtraggio non è disponibile.

### RF14 Visualizzazione interventi - cliente {-}
Il sistema -- attraverso la selezione effettuata in [RF11.1](#rf11.1-visualizzazione-singolo-impianto-dashboard) -- deve mostrare la lista degli interventi relativi all'impianto selezionato, dove per ogni intervento si mostra: data, tipo e stato dell'intervento. In aggiunta, per gli interventi:

- di riparazione, il sistema deve mostrare: data e motivazione della richiesta di intervento;
- assegnati in corso, il sistema deve mostrare: nome, cognome e numero di telefono del tecnico assegnato;
- assegnati conclusi, il sistema deve mostrare: data della conclusione e resoconto dell'intervento.

Il sistema deve consentire di filtrare la lista degli interventi per: tipo e stato. Gli interventi sono sempre ordinati per data, dalla più recente alla meno recente.

### RF15 Richiesta intervento di riparazione {-}
Il sistema -- attraverso un form raggiungibile da [RF14](#rf14-visualizzazione-interventi---cliente) -- deve permettere ad un cliente di effettuare una richiesta di intervento di riparazione, nella quale si dovrà specificare la motivazione. Il form è disponibile se l'impianto selezionato in [RF11](#rf11-visualizzazione-impianti-acquistati) è in stato attivo.

### RF16 Richiesta recensione {-}
Il sistema -- ad acquisto concluso ([RF10](#rf10-acquisto-impianto)) -- deve inviare al cliente un'email contenente il link alla pagina di Trustpilot, per inserire una nuova *product review*.

## Supervisore

### RF17 Visualizzazione interventi - supervisore {-}
Il sistema deve permettere ad un supervisore di visualizzare una lista di tutti gli interventi, dove per ognuno si mostra: nome del modello e id dell'impianto; data della richiesta, data, tipo e stato dell'intervento; cognome e numero di telefono del cliente. Se l'intervento è assegnato, viene visualizzato anche cognome e numero di telefono del tecnico. Tra gli interventi visualizzati, il sistema deve permettere di selezionarne uno.  
Il sistema deve consentire di filtrare la lista degli interventi per: tipo e stato. Gli interventi sono sempre ordinati per data della richiesta, dalla più recente alla meno recente.

### RF18 Visualizzazione singolo intervento {-}
Il sistema -- attraverso la selezione effettuata in [RF17](#rf17-visualizzazione-interventi---supervisore) -- deve mostrare tutti i dati dell'intervento selezionato già visualizzati in [RF17](#rf17-visualizzazione-interventi---supervisore) e indirizzo e superficie (in m$^2$) dell'impianto. In aggiunta, per gli interventi:

- di riparazione, il sistema deve mostrare la motivazione della richiesta di intervento;
- assegnati conclusi, il sistema deve mostrare: data della conclusione e resoconto dell'intervento.

### RF19 Assegnazione intervento {-}
Il sistema -- attraverso un form raggiungibile da [RF18](#rf18-visualizzazione-singolo-intervento) -- deve permettere ad un supervisore di assegnare un tecnico in una certa data all'intervento selezionato. In tale form, sono presenti i campi: data dell'intervento (gg/mm/aaaa) e lista dei tecnici non dimessi (nome e cognome) e disponibili in quella data; il sistema mostra la lista dei tecnici solo in seguito all'inserimento di una data valida (giorno corrente o successivi). Il form è disponibile se l'intervento selezionato in [RF17](#rf17-visualizzazione-interventi---supervisore) è in stato richiesto.  
I tecnici sono sempre ordinati alfabeticamente (per cognome). Il filtraggio non è disponibile.

## Tecnico

### RF20 Visualizzazione interventi - tecnico {-}
Il sistema deve mostrare la lista di tutti gli interventi assegnati, dove per ognuno si mostra: nome del modello, id, superficie e indirizzo dell'impianto; tipo, stato e data dell'intervento; nome, cognome e numero di telefono del cliente. Tra gli interventi visualizzati, il sistema deve permettere di selezionarne uno.  
Il sistema deve consentire di filtrare la lista degli interventi per: tipo e stato. Gli interventi sono sempre ordinati per data, dalla più recente alla meno recente.

### RF21 Visualizzazione e modifica singolo intervento {-}
Il sistema -- attraverso la selezione effettuata in [RF20](#rf20-visualizzazione-interventi---tecnico) -- deve mostrare tutti i dati dell'intervento selezionato già visualizzati in [RF20](#rf20-visualizzazione-interventi---tecnico); in aggiunta, per gli interventi:

- di riparazione, il sistema deve mostrare: data e motivazione della richista di intervento;
- assegnati in corso, il sistema deve permettere al tecnico di accedere alla *dashboard* dell'impianto ([RF11.1](#rf11.1-visualizzazione-singolo-impianto-dashboard)) e concludere l'intervento compilando un form con il campo resoconto;
- assegnati conclusi, il sistema deve mostrare: data della conclusione e resoconto dell'intervento.

### RF22 Aggiunta/rimozione sensori da impianto {-}
Il sistema -- attraverso form raggiungibili da [RF21](#rf21-visualizzazzione-e-modifica-singolo---intervento) -- deve permettere ad un tecnico di:

- aggiungere un sensore all'impianto su cui sta effettuando l'intervento; in tale form, sono presenti i campi: id sensore e coordinate geografiche del sensore (latitudine e longitudine);
- rimuovere un sensore dall'impianto su cui sta effettuando l'intervento; in tale form, è presente il campo id sensore.

L'id sensore deve poter essere immesso nei form sia tramite scrittura da tastiera, che inquadrando un codice QR ISO/IEC 18004:2006 con la fotocamera (se in dotazione) del dispositivo con cui si accede al sistema. Analogamente, le coordinate geografiche devono poter essere immesse nel form sia tramite scrittura da tastiera, che usando il GPS (se in dotazione) del dispositivo con cui si accede al sistema.  
I form sono disponibili se l'intervento selezionato in [RF20](#rf20-visualizzazione-interventi---tecnico) è di tipo installazione, manutenzione o riparazione.

## Amministratore

### RF23 Registrazione dipendenti {-}
Il sistema deve permettere ad un amministratore di registrare nel sistema i dipendenti dell'azienda, compilando un form con campi: nome, cognome, indirizzo email, indirizzo, numero di telefono, codice fiscale (CF) e ruolo (selezionato da una lista contenente tecnico, supervisore e amministratore). All'invio del form, viene inviata al dipendente registrato un'email contenente una password generata automaticamente dal sistema; successivamente, viene inviata un'altra email che invita il dipendente registrato a cambiare la password ([RF9](#rf9-modifica-dati-personali)).

### RF24 Visualizzazione lista dipendenti {-}
Il sistema deve mostrare una lista di tutti i dipendenti dell'azienda, dove per ognuno si mostra: nome, cognome, indirizzo email, indirizzo, numero di telefono, CF, password e ruolo. Tra i dipendenti visualizzati, il sistema deve permettere di selezionarne uno.  
Il sistema deve consentire di filtrare la lista dei dipendenti per: ruolo e stato. I dipendenti sono sempre ordinati alfabeticamente (per cognome).

### RF25 Modifica dati dipendente {-}
Il sistema -- attraverso la selezione effettuata in [RF24](#rf24-visualizzazione-lista-dipendenti) -- deve permettere ad un amministratore di modificare i dati personali del dipendente selezionato ([RF9](#rf9-modifica-dati-personali)) e indicare lo stato del dipendente: attivo o dimesso.

### RF26 Visualizzazione grafico vendite {-}
Il sistema deve mostrare un grafico dove si indica in funzione del tempo il numero di acquisti effettuati dai clienti con granularità mensile.

### RF27 Visualizzazione grafico interventi {-}
Il sistema deve mostrare un grafico dove si indica in funzione del tempo il numero di interventi richiesti con granularità mensile.

# Requisiti Non Funzionali
Questo capitolo presenta i requisiti non funzionali (RNF) del sistema.

### RNF1 Privacy {-}
Il sistema deve rispettare il regolamento europeo 2016/679 noto come GDPR (*General Data Protection Regulation*).

### RNF2 Sicurezza {-}
- La trasmissione dei dati in ogni funzione deve avvenire in maniera sicura.
- La password deve essere sicura.
- La password non deve essere salvata in chiaro: non può essere visualizzata in [RF8](#rf8-visualizzazione-dei-dati-personali) e inviata all'indirizzo email dell'utente autenticato in [RF7](#rf7-recupero-della-password).
- Un utente autenticato deve poter effettuare il logout ([RF5.1](#rf5.1-logout)) da tutte le pagine del sistema.
- Un dipendente indicato come dimesso non deve poter autenticarsi nel sistema.

### RNF3 Portabilità {-}
Ogni funzione deve essere funzionante:

- sui seguenti sistemi operativi:
    - Windows 7+
    - MacOS 10.6+
    - Android 5.0+
    - iOS 5.0+

- sui seguenti browser:
    - Chrome 18+
    - Chrome Mobile 18+
    - Safari 5.1+
    - Safari Mobile 5.0+

Inoltre, le funzioni [RF Tecnico](#tecnico), [RF Supervisore](#supervisore) e [RF Amministratore](#amministratore) devono essere funzionanti:

- sul seguente sistema operativo:
    - Ubuntu 20.04+

- sui seguenti browser:
    - Firefox 7+
    - Firefox Mobile 7+

### RNF4 Prestazioni {-}
- La funzione [RF10](#rf10-acquisto-impianto) deve essere eseguita dal sistema in al più 10 secondi.
- La funzione [RF12](#rf12-visualizzazione-misurazioni-su-heatmap) deve essere eseguita dal sistema in al più 5 secondi.
- Le funzioni [RF Tecnico](#tecnico) devono essere eseguite in al più 3 secondi.

Per i RF:

- con form, la misurazione è relativa al tempo trascorso tra l'invio e la ricezione del form;
- di visualizzazione, la misurazione è relativa al tempo trascorso tra l'immissione dell'URL e il caricamento della pagina associata. 

Le misurazioni sono effettuate sulla rete intranet dell'azienda: il sistema deve essere installato sui server locali dell'azienda e il dispositivo da cui si accede al sistema deve essere connesso alla medesima rete locale.

### RNF5 Facilità d'uso {-}
- Un utente anonimo deve essere in grado di registrarsi e portare a termine un acquisto ([RF2](#rf2-visualizzazione-vetrina), [RF4](#rf4-registrazione-cliente), [RF10](#rf10-acquisto-impianto)) senza alcun addestramento, imparando in autonomia in al più 10 minuti.
- Un supervisore deve essere in grado di usare le funzioni [RF Supervisore](#supervisore) dopo un addestramento specifico di al più 15 minuti.
- Un tecnico deve essere in grado di usare le funzioni [RF Tecnico](#tecnico) dopo un addestramento specifico di al più 15 minuti.
- L'id sensore in [RF22](#rf22-aggiuntarimozione-sensori-da-impianto) deve poter essere immesso nei form sia tramite scrittura da tastiera, che inquadrando un codice QR ISO/IEC 18004:2006 con la fotocamera (se in dotazione) del dispositivo con cui si accede al sistema. 
- Le coordinate geografiche in [RF22](#rf22-aggiuntarimozione-sensori-da-impianto) devono poter essere immesse nel form sia tramite scrittura da tastiera, che usando il GPS (se in dotazione) del dispositivo con cui si accede al sistema.

### RNF6 Scalabilità {-}
Il sistema deve rispettare il [RNF4 Prestazioni](#rnf4-prestazioni) anche in caso di:

- 1000 clienti che contemporaneamente usano la funzione [RF10](#rf10-acquisto-impianto)
- 1000 clienti che contemporaneamente usano la funzione [RF12](#rf12-visualizzazione-misurazioni-su-heatmap)
- 100 tecnici che contemporaneamente usano le funzioni [RF Tecnico](#tecnico)
- 1000 impianti gestiti contemporaneamente dal sistema, dove per ognuno si hanno $100*12*24*30*12*5=51840000$ misurazioni con 10 parametri misurati.

\pagebreak
# Design FrontEnd
Questo capitolo presenta i *mock-up* della WebApp relativi ai seguenti RF: 

- [RF1 Visualizzazione presentazione](#rf1-visualizzazione-presentazione)
- [RF5 Autenticazione](#rf5-autenticazione)
- [RF11 Visualizzazione impianti acquistati](#rf11-visualizzazione-impianti-acquistati)
- [RF11.1 Visualizzazione singolo impianto (*dashboard*)](#rf11.1-visualizzazione-singolo-impianto-dashboard)
- [RF12 Visualizzazione misurazioni su heatmap](#rf12-visualizzazione-misurazioni-su-heatmap)
- [RF20 Visualizzazione interventi - tecnico](#rf20-visualizzazione-interventi---tecnico)
- [RF21 Visualizzazione e modifica singolo intervento](#rf21-visualizzazione-e-modifica-singolo-intervento)

### *Mock-up* - RF1 {-}
![Pagina di presentazione](./.media/mockups/presentazione.png){width=6cm fig-pos=H}

Questo *mock-up* mostra la pagina di entrata della WebApp: una breve presentazione dell'azienda, la posizione delle sedi e i contatti (indirizzo email e numero di telefono). In alto sono disposti i bottoni:

- menu, per permettere ad un utente anonimo di accedere alle funzioni [RF Utente anonimo](#utente-anonimo). Tale bottone è identificato dall'icona con le tre linee orrizzontali;
- login, per permettere ad un utente anonimo di autenticarsi ([RF5](#rf5-autenticazione)).

\pagebreak
### *Mock-up* - RF5 {-}
![Pagina di autenticazione](./.media/mockups/login.png){width=6cm fig-pos=H}

Questo *mock-up* mostra la pagina di autenticazione del sistema; un utente anonimo può autenticarsi inserendo nel form indirizzo email e password. In basso sono disposti i bottoni:

- recupera password, per permettere ad un utente anonimo di recuperare la password ([RF7](#rf7-recupero-password));
- login, per permettere ad un utente anonimo di inviare il form e accedere al sistema; 
- registrati, per permettere ad un utente anonimo di registrarsi compilando un form ([RF4](#rf4-registrazione-cliente)).

\pagebreak
### *Mock-up* - RF11, RF11.1 {-}
![Lista degli impianti acquistati e *dashboard* delle funzioni](./.media/mockups/impianti-dashboard.png){width=12cm fig-pos=H}

Il *mock-up* di sinistra mostra la pagina con la lista di tutti gli impianti acquistati dal cliente; gli impianti attivi sono indicati in azzurro, mentre quelli dismessi in arancione. In alto sono disposti i bottoni per filtrare la lista per modello, tipo e stato; il bottone premuto viene evidenziato con un colore scuro. I filtraggi per modello e tipo diventano disponibili premendo il bottone identificato dall'icona con le tre linee orrizzontali e i tre cerchi neri.  
Il *mock-up* di destra mostra la *dashboard* contenente tutte le funzioni fornite dal sistema sull'impianto selezionato.

\pagebreak
### *Mock-up* - RF12 {-}
![Misurazioni su *heatmap*](./.media/mockups/heatmap.png){width=6cm fig-pos=H}

Questo *mock-up* mostra la *heatmap* con le più recenti misurazioni del parametro temperatura dell'impianto selezionato; la scala di colore comprende le sfumature dal giallo (valore minore) al rosso (valore maggiore). In alto a destra sono disposti due bottoni a forma di freccia che permettono di visualizzare tutte le misurazioni presenti nella base di dati all’atto di caricamento della pagina. Il parametro delle misurazioni può essere cambiato selezionandone un altro dalla lista dei parametri misurati. 

\pagebreak
### *Mock-up* - RF20, RF21 {-}
![Lista degli interventi](./.media/mockups/interventi.png){width=6cm fig-pos=H}

Questo *mock-up* mostra la lista di tutti gli interventi assegnati; gli interventi assegnati in corso sono indicati in arancione, mentre quelli assegnati conclusi in grigio. In alto sono disposti i bottoni per filtrare la lista per tipo e stato; il bottone premuto viene evidenziato con un colore scuro. Il filtraggio per tipo diventa disponibile premendo il bottone identificato dall'icona con le tre linee orrizzontali e i tre cerchi neri.  
In seguito alla selezione di un intervento, in basso viene visualizzato un *pop-up* contenente le informazioni specificate in [RF21](#rf21-visualizzazione-e-modifica-singolo-intervento); inoltre, tramite dei link si può accedere alla dashboard dell'impianto, aggiungere o rimuovere un sensore, e concludere l'intervento.

\pagebreak
# Design BackEnd
Questo capitolo presenta i sistemi esterni che devono interagire con il BackEnd della WebApp, tramite delle API (*application programming interface*).

- **PayPal**: sistema esterno con cui un cliente effettua il pagamento per acquistare un impianto in vendita. Quando il pagamento con PayPal è concluso, PayPal invia alla WebApp la conferma di avvenuto pagamento. Questo sistema è usato da [RF10](#rf10-acquisto-impianto).

- **Gmail**: sistema esterno con cui si inviano email contenenti link per confermare l'indirizzo email di un utente, cambiare la password di un utente e richiedere una recensione ad un cliente dopo l'acquisto di un impianto. Questo sistema è usato da [RF6](#rf6-conferma-indirizzo-email), [RF7](#rf7-recupero-della-password), [RF9](#rf9-modifica-dei-dati-personali), [RF10](#rf10-acquisto-impianto), [RF16](#rf16-richiesta-recensione) e [RF25](#rf25-modifica-dati-dipendente). 

- **TrustPilot**: sistema esterno con cui un cliente effettua le recensioni. Questo sistema è usato da [RF16](#rf16-richiesta-recensione).

- **OpenStreetMap**: sistema esterno che fornisce le mappe utilizzate dalla WebApp in [RF1](#rf1-visualizzazione-presentazione) e [RF12](#rf12-visualizzazione-misurazioni-su-heatmap).

- **GPS**: sistema esterno che fornisce le coordinate geografiche della posizione dei sensori di un impianto. Questo sistema è usato da [RF22](#rf22-aggiuntarimozione-sensori-da-impianto).

- **Ardeeno DataLayer**: sistema esterno che conprende la base di dati (gestita da cloud.mongodb.com) e il sottosistema di *polling* che inserisce in questa tutte le misurazioni degli impianti. Questo sistema è usato da tutti i RF esclusi: [RF1](#rf1-visualizzazione-presentazione), [RF5.1](#rf5.1-logout) e [RF16](#rf16-richiesta-recensione).

![Sistemi esterni che interagiscono con il BackEnd](./.media/backend.png){fig-pos=H}     
