---
title: | 
  ![](../../.common-media/logo-unitn-ardeeno-512.png){width=10cm}

  Ardeeno WebApp
subtitle: |
  T41-SE22

  D2-Documento di Specifica

  v0.1
author: [alessandro.manfucci@studenti.unitn.it, enrico.cescato@studenti.unitn.it ,m.sottocornola-1@studenti.unitn.it]
date: "10-10-2022"
lang: it
format:
  pdf:
    include-in-header:
      text: |
        \usepackage{graphicx}
        \usepackage{wrapfig}
    documentclass: article
    classoption: titlepage
    toc: true
    toc-title: Indice
    papersize: a4
    number-sections: true
    geometry:
    - top=1in
    - bottom=1in
    - right=1in
    - left=1in
---

\pagebreak
# Abstract {.unnumbered}
Questo documento descrive in maniera più dettagliata -- ma sempre non tecnica -- i requisiti del sistema da realizzare. Per i requisiti funzionali si utilizza il linguaggio di modellazione UML, mentre per i requisiti non funzionali si utilizzano particolari tabelle.

# Terminologia {.unnumbered}

- **misurazione**: tupla contenente un valore per ogni parametro misurato. 

- **ciclo di polling**: periodo di tempo in cui la stazione di polling -- compresa nell'impianto -- richiede ad ogni sensore le loro misurazioni.

- **intervallo di polling**: periodo di tempo che occorre tra l'inizio di due cicli di polling. Il ciclo di polling ha durata estremamente breve rispetto all'intervallo di polling. I sensori calcolano ogni valore di una misurazione aggregando in media i dati raccolti durante l'intervallo di polling. Ogni modello di impianto specifica i parametri misurati e l'intervallo di polling.

- **snapshot**: insieme delle misurazioni raccolte in un certo ciclo di polling. Ogni misurazione di uno snapshot ha lo stesso timestamp.

# Requisiti funzionali
Questo capitolo presenta i requisiti funzionali del sistema, raggruppati per ruolo. Vengono utilizzati i diagrammi UML Use Case (descrivendo nel dettaglio ogni singolo Use Case) e, per i requisiti funzionali più complessi, anche i Sequence Diagrams, gli Activity Diagrams e gli State Diagrams.

## Utente anonimo

## Utente autenticato

## Cliente

![RF10, RF16](.media/cliente1.drawio.png)

### UseCase Acquisto impianto {.unnumbered}  
***Summary***

Questo use case descrive come il cliente effettua l'acquisto dell'impianto precedentemente selezionato.

***Description***

1. Il cliente inserisce l'indirizzo di installazione. [Exception 1]

2. Il cliente inserisce la superficie in $m^2$. [Exception 2]

3. Il cliente invia il form premendo sul bottone "Acquista", al cui lato è presente il costo del tipo di impianto. [Exception 1][Exception 2][Exception 3]

4. Il cliente effettua il pagamento tramite PayPal. [Exception 4]

5. L'acquisto è concluso, nella pagina di acquisto appare in verde la scritta "Acquisto concluso!.

6. L'acquisto è concluso, il sistema inserisce un intervento di installazione per il nuovo impianto ed invia una richiesta di recensione per email.

***Exceptions***

1. L'indirizzo non è valido, il bordo del campo del form diventa rosso.

2. La superficie non è valida (non è un intero positivo), il bordo del campo del form diventa rosso.

3. I campi indirizzo o superficie sono vuoti o non validi, appare in rosso la scritta "Compila correttamente il form".

4. PayPal riporta che il pagamento non è andato a buon fine, appare in rosso la scritta "Acquisto annullato - Pagamento non andato a buon fine".

***Sequence Diagram***

![Sequence Diagram](.media/cliente1seq.drawio.png){width=7cm}

### UseCase Pagamento {.unnumbered}  
***Summary***

Questo use case descrive come avviene il pagamento dell'impianto tramite PayPal.

***Description***

1. Il cliente si collega al sistema PayPal.

2. Il cliente effettua il pagamento tramite PayPal. [Exception 1]

3. Il cliente ritorna al sistema Ardeeno WebApp.

***Exceptions***

1. PayPal riporta che il pagamento non è andato a buon fine.

### UseCase Richiesta Recensione {.unnumbered}  

***Summary***

Questo use case descrive come avviene la richiesta e l'inserimento di una recensione su TrustPilot da parte del cliente.

***Description***

1. Il cliente riceve un'email da *sales.ardeeno@gmail.com* con oggetto "Acquisto concluso".

2. Il cliente visualizza il messaggio dell'email e clicca sul link con testo "Recensisci il modello di impianto!"

3. Il cliente si collega al sistema TrustPilot ed inserisce una recensione.

4. TrustPilot riporta che la recensione è stata correttamente inserita.

![RF11, RF12, RF13](.media/cliente2.drawio.png)

### UseCase Visualizzazione Impianti Acquistati {.unnumbered}  

***Summary***

Questo use case descrive la visualizzazione da parte di un cliente degli impianti acquistati.

***Description***

1. Il cliente visualizza la lista di tutti gli impianti acquistati; è attivo il filtro Tutti. [Exception 1] [Extension 1]

2. Il cliente seleziona il filtro Tutti, Attivi o Dismessi. [Exception 1]

3. Il cliente seleziona il menu degli ulteriori filtri e seleziona uno specifico filtro. [Exception 1]

***Exceptions***

1. Nessun impianto soddisfa tale filtro; la lista è vuota ed appare la scritta "Nessun impianto".

***Extensions***

1. Il cliente seleziona uno specifico impianto e visualizza la Dashboard dell'impianto.

### UseCase Dashboard {.unnumbered}

***Summary***

Questo use case descrive come il cliente interagisce con la Dashboard dell'impianto selezionato.

***Description***

1. Il cliente visualizza le informazioni del singolo impianto (id, indirizzo, modello, stato, data acquisto, superficie) e le funzioni disponibili (Heatmap, visualizzazione su tabella, visualizzazione interventi).

2. Il cliente seleziona una funzione. 

### UseCase Visualizzazione misurazioni su tabella {.unnumbered}  

***Summary***

Questo use case descrive come un cliente visualizza le misurazioni di uno specifico impianto su tabella.

***Description***

1. Il cliente visualizza una tabella contenente tutte le misurazioni ordinate per data da più recente a meno recente

2. Il cliente clicca un bottone per aggiornare la tabella con le più recenti misurazioni [Exception 1]

***Exceptions***

1. Se l'impianto è dismesso non è presente tale bottone

### UseCase Visualizzazione misurazioni su heatmap {.unnumbered}  

***Summary***

Questo use case descrive come un cliente visualizza le misurazioni di uno specifico impianto su heatmap.

***Description***

1. La heatmap mostra lo snapshot più recente dell'impianto considerando un parametro arbitrario. Per ogni misurazione nello snapshot, il valore del parametro considerato è posizionato sulla mappa alle coordinate del dato sensore. Il valore del parametro considerato è rappresentato con una scala di colori dal giallo (valore minimo assoluto) al rosso (valore massimo assoluto).

2. Il cliente seleziona il parametro considerato da una lista contenente tutti i parametri misurati dall'impianto selezionato

3. Il cliente clicca su un bottone per visualizzare lo snapshot precedente (meno recente) [Exception 1]

4. Il cliente clicca su un bottone per visualizzare lo snapshot successivo (più recente) [Exception 2]

***Exceptions***

1. Lo snapshot attuale è il meno recente in assoluto, viene visualizzata con pop-up la scritta "Nessuno snapshot precedente"

2. Lo snapshot attuale è il più recente in assoluto, viene visualizzata con pop-up la scritta "Nessuno snapshot successivo"

![RF14, RF15](.media/cliente3.drawio.png){width=10cm}

### UseCase Visualizzazione interventi {.unnumbered}  

***Summary***

Questo use case descrive come un cliente visualizza gli interventi effettuati su uno specifico impianto su heatmap

***Description***

1. Il cliente visualizza la lista di tutti gli interventi effettuati sull'impianto selezionato; è attivo il filtro Tutti. [Exception 1]

2. Il cliente seleziona il filtro Tutti, Richiesti, In Corso, Conclusi. [Exception 1]

3. Il cliente seleziona il menu degli ulteriori filtri e seleziona uno specifico filtro. [Exception 1]

***Exceptions***

1. Nessun intervento soddisfa tale filtro; la lista è vuota ed appare la scritta "Nessun intervento"

### UseCase Richiesta intervento di riparazione {.unnumbered}

***Summary***

Questo use case descrive come un cliente richiede un intervento di riparazione per l'impianto selezionato.

***Description***

1. Il cliente clicca sul bottone "Richiedi riparazione" [Exception 1]

2. Il cliente inserisce la motivazione della riparazione

3. Il cliente invia la richiesta di riparazione

***Exceptions***

1. L'impianto è dismesso ed il bottone non è presente.

## Supervisore

## Tecnico

## Amministratore

\pagebreak
# Requisiti Non Funzionali

### RNF1 Privacy {.unnumbered}

|Proprietà|Descrizione|Misura|
|---|---|---|
|GDPR|Il sistema deve rispettare il regolamento europeo 2016/679 noto come GDPR (General Data Protection Regulation).|Conforme|

### RNF2 Sicurezza {.unnumbered}
|Proprietà|Descrizione|Misura|
|---|---|---|
|Trasmissione sicura|La trasmissione dei dati in ogni funzione deve avvenire in maniera sicura|Il sistema utilizza il protocollo HTTPS|
|Password sicura|La password deve essere lunga almeno 8 caratteri e deve contenere almeno: una lettera maiuscola, una lettera minuscola, un numero|Nel [RF4](#), [RF7](#) il sistema non permette di inserire una password non sicura; nel [RF23](#) la password generata è sicura|
|Password non in chiaro|La password non deve essere salvata in chiaro|Nel [RF4](#), [RF7](#), [RF23](#) sul database viene salvato un salted hash della password (funzione bcrypt)|
|Logout|Un utente autenticato deve poter uscire dal proprio account|Funzione di logout [RF5.1](#) presente|
|Dipendenti dimessi|Un dipendente segnato come dimesso non deve poter autenticarsi nel sistema|Nella funzione [RF5](#) l'autenticazione non è concessa agli account di dipendenti dimessi|

### RNF3 Facilità d'uso {.unnumbered}
|Proprietà|Descrizione|Misura|
|---|---|---|
|Facilità d'uso utente anonimo|Un utente anonimo deve essere in grado di registrarsi e portare a termine un acquisto ([RF2](#rf2-visualizzazione-vetrina), [RF4](#rf4-registrazione-cliente), [RF10](#rf10-acquisto-impianto)) senza alcun addestramento, imparando in autonomia in meno di 5 minuti|Date dieci persone (conoscenti l'italiano) in fascia d'età 18~60, scelte in maniera arbitraria (esclusi i dipendenti di Ardeeno e dell'Università di Trento), almeno otto devono riuscire a portare a termine la registrazione e l'acquisto di un impianto in massimo 10 minuti. Agli utenti sarà fornito un dispositivo compatibile con Ardeeno WebApp (di cui 4 smartphones Android, 4 pc Windows, 2 tablet Adroid), l'URL della WebApp (ardeeno.it), un account PayPal (email e password) e un account email; sarà quindi detto di "Registrarsi e concludere un acquisto" e verrà fatta partire la misurazione. La misurazione si conclude quando, successivamente al pagamento, appare la schermata "Acquisto Concluso".   
|
|Facilità d'uso supervisori|||
|Facilità d'uso tecnici|||
|Codice QR|||

### RNF4 Prestazioni {.unnumbered}
|Proprietà|Descrizione|Misura|
|---|---|---|
|Prestazioni acquisto|La funzione di acquisto [RF10](#rf10-acquisto-impianto) deve essere eseguita dal sistema in al più 3 minuti| La misurazione avviene da quando il form è inviato a quando è completamente caricata la pagina di conferma|
|Prestazioni heatmap|||
|Prestazioni Tecnici|||

### RNF5 Portabilità {.unnumbered}
|Proprietà|Descrizione|Misura|
|---|---|---|
|Compatibilità S.O. per ogni RF| Ogni funzione deve essere funzionante sui seguenti sistemi operativi:||
|Compatibilità Browser per ogni RF|Ogni funzione deve essere funzionante sui seguenti browser:||
|Compatibilità S.O. per specifici RF|Le funzioni [RF.Tecnico](#tecnico), [RF.Supervisore](#supervisore), [RF.Amministratore](#amministratore) devono in aggiunta essere funzionanti sui seguenti sistemi operativi:||
|Compatibilità Browser per specifici RF|Le funzioni [RF.Tecnico](#tecnico), [RF.Supervisore](#supervisore), [RF.Amministratore](#amministratore) devono in aggiunta essere funzionanti sui seguenti browser:||

### RNF6 Scalabilità {.unnumbered}
|Proprietà|Descrizione|Misura|
|---|---|---|
|Scalabilità tecnici  |Il sistema deve mantenere le prestazione descritte in [RNF4](#rnf4-prestazioni) anche con 100 tecnici che contemporaneamente usano una qualsiasi delle funzioni [RF.Tecnico](#)||
|Scalabilità vetrina  |Il sistema deve mantenere le prestazione descritte in [RNF4](#rnf4-prestazioni) anche con 10000 utenti anonimi che contemporaneamente usano [RF2](#rf)||
|Scalabilità acquisti |Il sistema deve mantenere le prestazione descritte in [RNF4](#rnf4-prestazioni) anche con 1000 clienti che contemporaneamente usano [RF10](#)||
|Scalabilità heatmap  |Il sistema deve mantenere le prestazione descritte in [RNF4](#rnf4-prestazioni) anche con 1000 clienti che contemporaneamente usano [RF12](#)||
|Scalabilità impianti |Il sistema deve mantenere le prestazione descritte in [RNF4](#rnf4-prestazioni) anche con||

# Analisi del Contesto

## Utenti e sistemi esterni

## Diagramma di contesto

# Analisi dei Componenti

## Definizione dei componenti

## Diagramma dei componenti
