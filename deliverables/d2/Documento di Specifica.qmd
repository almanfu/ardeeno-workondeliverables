---
title: | 
  ![](../../.common-media/logo-unitn-ardeeno-512.png){width=10cm}

  Ardeeno WebApp
subtitle: |
  T41-SE22

  D2-Documento di Specifica

  v0.1
author: [alessandro.manfucci@studenti.unitn.it, enrico.cescato@studenti.unitn.it ,m.sottocornola-1@studenti.unitn.it]
date: "10-10-2022"
lang: it
format:
  pdf:
    include-in-header:
      text: |
        \usepackage{graphicx}
        \usepackage{wrapfig}
    documentclass: article
    classoption: titlepage
    toc: true
    toc-title: Indice
    papersize: a4
    number-sections: true
    geometry:
    - top=1in
    - bottom=1in
    - right=1in
    - left=1in
---

\pagebreak
**Abstract**

Questo documento descrive in maniera più dettagliata -- ma sempre non tecnica -- i requisiti del sistema da realizzare. Per i requisiti funzionali si utilizza il linguaggio di modellazione UML, mentre per i requisiti non funzionali si utilizzano particolari tabelle.

# Terminologia {-}

- **misurazione**: tupla contenente un valore per ogni parametro misurato. 

- **ciclo di polling**: periodo di tempo in cui la stazione di polling -- compresa nell'impianto -- richiede ad ogni sensore le loro misurazioni.

- **intervallo di polling**: periodo di tempo che occorre tra l'inizio di due cicli di polling. Il ciclo di polling ha durata estremamente breve rispetto all'intervallo di polling. I sensori calcolano ogni valore di una misurazione aggregando in media i dati raccolti durante l'intervallo di polling. Ogni modello di impianto specifica i parametri misurati e l'intervallo di polling.

- **snapshot**: insieme delle misurazioni raccolte in un certo ciclo di polling. Ogni misurazione di uno snapshot ha lo stesso timestamp.

# Requisiti funzionali
Questo capitolo presenta i requisiti funzionali del sistema, raggruppati per ruolo. Vengono utilizzati i diagrammi UML Use Case (descrivendo nel dettaglio ogni singolo Use Case) e, per i requisiti funzionali più complessi, anche i Sequence Diagrams, gli Activity Diagrams e gli State Diagrams.

## Utente anonimo

## Utente autenticato

## Cliente

![RF10, RF16](.media/cliente1.drawio.png){width=10cm}

### UseCase Acquisto impianto {-}  
***Summary***

Questo use case descrive come il cliente effettua l'acquisto dell'impianto precedentemente selezionato.

***Description***

1. Il cliente inserisce l'indirizzo di installazione. [Exception 1]

2. Il cliente inserisce la superficie in $m^2$. [Exception 2]

3. Il cliente invia il form premendo sul bottone "Acquista", al cui lato è presente il costo del tipo di impianto. [Exception 1][Exception 2][Exception 3]

4. Il cliente effettua il pagamento tramite PayPal. [Exception 4]

5. L'acquisto è concluso, nella pagina di acquisto appare in verde la scritta "Acquisto concluso!.

6. L'acquisto è concluso, il sistema inserisce un intervento di installazione per il nuovo impianto ed invia una richiesta di recensione per email.

***Exceptions***

1. L'indirizzo non è valido, il bordo del campo del form diventa rosso.

2. La superficie non è valida (non è un intero positivo), il bordo del campo del form diventa rosso.

3. I campi indirizzo o superficie sono vuoti o non validi, appare in rosso la scritta "Compila correttamente il form".

4. PayPal riporta che il pagamento non è andato a buon fine, appare in rosso la scritta "Acquisto annullato - Pagamento non andato a buon fine".

***Sequence Diagram***

![Sequence Diagram](.media/cliente1seq.drawio.png){width=7cm}

### UseCase Pagamento {-}  
***Summary***

Questo use case descrive come avviene il pagamento dell'impianto tramite PayPal.

***Description***

1. Il cliente si collega al sistema PayPal.

2. Il cliente effettua il pagamento tramite PayPal. [Exception 1]

3. Il cliente ritorna al sistema Ardeeno WebApp.

***Exceptions***

1. PayPal riporta che il pagamento non è andato a buon fine.

### UseCase Richiesta Recensione {-}  

***Summary***

Questo use case descrive come avviene la richiesta e l'inserimento di una recensione su TrustPilot da parte del cliente.

***Description***

1. Il cliente riceve un'email da *sales.ardeeno@gmail.com* con oggetto "Acquisto concluso".

2. Il cliente visualizza il messaggio dell'email e clicca sul link con testo "Recensisci il modello di impianto!"

3. Il cliente si collega al sistema TrustPilot ed inserisce una recensione.

4. TrustPilot riporta che la recensione è stata correttamente inserita.

![RF11, RF12, RF13](.media/cliente2.drawio.png){width=12cm}

### UseCase Visualizzazione Impianti Acquistati {-}  

***Summary***

Questo use case descrive la visualizzazione da parte di un cliente degli impianti acquistati.

***Description***

1. Il cliente visualizza la lista di tutti gli impianti acquistati; è attivo il filtro Tutti. [Exception 1] [Extension 1]

2. Il cliente seleziona il filtro Tutti, Attivi o Dismessi. [Exception 1]

3. Il cliente seleziona il menu degli ulteriori filtri e seleziona uno specifico filtro. [Exception 1]

***Exceptions***

1. Nessun impianto soddisfa tale filtro; la lista è vuota ed appare la scritta "Nessun impianto".

***Extensions***

1. Il cliente seleziona uno specifico impianto e visualizza la Dashboard dell'impianto.

### UseCase Dashboard {-}

***Summary***

Questo use case descrive come il cliente interagisce con la Dashboard dell'impianto selezionato.

***Description***

1. Il cliente visualizza le informazioni del singolo impianto (id, indirizzo, modello, stato, data acquisto, superficie) e le funzioni disponibili (Heatmap, visualizzazione su tabella, visualizzazione interventi).

2. Il cliente seleziona una funzione. 

### UseCase Visualizzazione misurazioni su tabella {-}  

***Summary***

Questo use case descrive come un cliente visualizza le misurazioni di uno specifico impianto su tabella.

***Description***

1. Il cliente visualizza una tabella contenente tutte le misurazioni ordinate per data da più recente a meno recente

2. Il cliente clicca un bottone per aggiornare la tabella con le più recenti misurazioni [Exception 1]

***Exceptions***

1. Se l'impianto è dismesso non è presente tale bottone

### UseCase Visualizzazione misurazioni su heatmap {-}  

***Summary***

Questo use case descrive come un cliente visualizza le misurazioni di uno specifico impianto su heatmap.

***Description***

1. La heatmap mostra lo snapshot più recente dell'impianto considerando un parametro arbitrario. Per ogni misurazione nello snapshot, il valore del parametro considerato è posizionato sulla mappa alle coordinate del dato sensore. Il valore del parametro considerato è rappresentato con una scala di colori dal giallo (valore minimo assoluto) al rosso (valore massimo assoluto).

2. Il cliente seleziona il parametro considerato da una lista contenente tutti i parametri misurati dall'impianto selezionato

3. Il cliente clicca su un bottone per visualizzare lo snapshot precedente (meno recente) [Exception 1]

4. Il cliente clicca su un bottone per visualizzare lo snapshot successivo (più recente) [Exception 2]

***Exceptions***

1. Lo snapshot attuale è il meno recente in assoluto, viene visualizzata con pop-up la scritta "Nessuno snapshot precedente"

2. Lo snapshot attuale è il più recente in assoluto, viene visualizzata con pop-up la scritta "Nessuno snapshot successivo"

![RF14, RF15](.media/cliente3.drawio.png){width=10cm}

### UseCase Visualizzazione interventi {-}  

***Summary***

Questo use case descrive come un cliente visualizza gli interventi effettuati su uno specifico impianto su heatmap

***Description***

1. Il cliente visualizza la lista di tutti gli interventi effettuati sull'impianto selezionato; è attivo il filtro Tutti. [Exception 1]

2. Il cliente seleziona il filtro Tutti, Richiesti, In Corso, Conclusi. [Exception 1]

3. Il cliente seleziona il menu degli ulteriori filtri e seleziona uno specifico filtro. [Exception 1]

***Exceptions***

1. Nessun intervento soddisfa tale filtro; la lista è vuota ed appare la scritta "Nessun intervento"

### UseCase Richiesta intervento di riparazione {-}

***Summary***

Questo use case descrive come un cliente richiede un intervento di riparazione per l'impianto selezionato.

***Description***

1. Il cliente clicca sul bottone "Richiedi riparazione" [Exception 1]

2. Il cliente inserisce la motivazione della riparazione

3. Il cliente invia la richiesta di riparazione

***Exceptions***

1. L'impianto è dismesso ed il bottone non è presente.

## Supervisore

![RF17, RF18, RF19](.media/supervisore1.png){width=12cm}

### UseCase Visualizza lista interventi {-}  

***Summary***

Questo use case descrive come un supervisore può visuallizzare tutti gli interventi.

***Description***

1. Il supervisore visualizza una lista di tutti gli interventi in ordine cronologico. [Exception 1]

2. Il supervisore può inoltre selezionare il filtro Tipo o stato intervento. Cio mostrerà solo i risultati soddisfacenti i filtri in ordine cronologico.

3. Il supervisore seleziona il menu degli ulteriori filtri e ne seleziona uno. [Exception 1]
<!-- dubbio n1: si può aggiungere 4. Il supervisore seleziona un singolo intervento premendoci sopra ?  o i include/extends non possono essere messi nella descrizione? -->
***Exceptions***

1. Nessun intervento soddisfa tale filtro; la lista è vuota e appare la scritta "Nessun intervento"

### UseCase Visualizzazione singolo intervento {-}  

***Summary***

Questo use case descrive come un supervisore può visualizzare nel dettaglio un singolo intervento.

***Description***

dubbio dubbio grosso
<!--
dubbio numero 2: da un lato non ce niente da dire su questo use case. dal altro se lo togliamo dal diagrama non si vede piu da nessuna parte la possibilita di selezionare il singolo impianto richiesto da RF18-->

***Exceptions***

dubbio dubbio grosso

### UseCase Assegnazione tecnico {-}

***Summary***

Questo use case descrive come un supervisore può assegnare un tecnico al intervento che sta visualizzando.

***Description***

1. Il supervisore preme il bottone 'assegna tecnico' [exception 1]
<!-- dubbio numero 3: quando il supervisore preme il bottone e presumibilmente portato in un altra pagina dove compila questi dati. Questo lo scriviamo o lasciamo per inteso? -->
2. Il supervisore seleziona il campo data, e mostrato un elenco di tutte le date in cui rimangono tanti tecnici liberi in verde, pochi in giallo, nessuno in rosso e i giorni feriali in grigio. Può selezionare un giorno verde o giallo.

3. Il supervisore e mostrato una lista dei tecnici liberi in quel giorno e ne seleziona uno.

4. Il supervisore può aggiungere opzionalmente un commento.

5. Il supervisore preme il tasto 'assegna' [exception 2]

***Exceptions***

1. L'intervento visualizzato a già un tecnico assegnato. il tasto 'assegna tecnico' e allora assente.

2. Se più di 15 minuti sono erogati dalla selezione della data il supervisore e chiesto di ricominciare da capo.


## Tecnico

![RF20, RF21, RF22](.media/tecnico1.png){width=12cm}

### UseCase Visualizza lista interventi {-}  

***Summary***

Questo use case descrive come un tecnico può visuallizzare tutti gli interventi che gli sono stati assegnati.

***Description***

1. Il tecnico visualizza una lista di tutti gli interventi in ordine cronologico. [Exception 1]

2. Il tecnico può inoltre selezionare il filtro Tipo o stato intervento. Ciò mostrerà solo i risultati soddisfacenti i filtri in ordine cronologico.

3. Il tecnico seleziona il menu degli ulteriori filtri e ne seleziona uno. [Exception 1]
<!-- repeat di dubbio numero 1. -->


***Exceptions***

1. Nessun intervento soddisfa tale filtro; la lista è vuota e appare la scritta "Nessun intervento"


### UseCase Visualizzazione singolo intervento {-}  

***Summary***

Questo use case descrive come un tecnico può visualizzare e concludere interventi singoli.

***Description***

1. Il tecnico preme sul tasto 'concludi intervento' [exception 1]
<!-- repeat di dubbio numero 3 -->
2. Il tecnico compila un form compreso da un campo data e un campo resoconto.

3. Il tecnico preme su 'conferma' per concludere l'intervento. [exception 2]

***Exceptions***

1. Se l'intervento visualizzato e già concluso il tasto e assente.

2. se il campo data non soddisfa il formato dd/mm/yyyy o se il campo resoconto e vuoto un errore e generato.


### UseCase Aggiunta/Rimozione sensori {-}  

***Summary***

Questo use case descrive come un tecnico può aggiungere/rimuovere sensori associati al intervento in corso selezionato.


***Description***

1. Il tecnico preme il tasto 'aggiungi sensore' o il tasto 'rimuovi sensore' [Exception 1].
<!-- repeat di dubbio numero 3 -->
2. Il tecnico inserisce nei loro campi il ID del sensore e le sue coordinate GPS. <!--dubbio n4: ma leggendo il RF mi sta venendo un dubbio, questo e collegato al OpenStreetMap o e solo il tecnico che inserisce la posizione e ci fidiamo? -->
3. Il tecnico preme il tasto conferma [Exception 2].

***Exceptions***

1. Se l'intervento selezionato e già concluso i due tasti non sono visibili.

2. Se l'ID non corrisponde al formatto corretto dell'azienda o se le coordinate inserite sono troppo distanti dal impianto selezionato un errore e generato.

\pagebreak <!-- messo perche se no l'imagine succesiva mi andava in posizioni strane -->

## Amministratore

![RF23, RF24, RF25, RF26, RF27, RF28](.media/amministratore1.png){width=12cm}


### UseCase form registrazione dipendenti {-}  

***Summary*** 
Questo use case descrive la maniera in cui l'Amministratore può registrare dipendenti.

***Description***

1. L'amministratore compila un form contenente i seguenti campi: nome,cognome,email,telefono,indirizzo e CF <!-- cose CF? che mi piacerebbe non abbreviarlo qui -->

2. L'amministratore seleziona a traverso un menu a tendina se il dipendente e un tecnico supervisore o amministratore.

3. L'amministratore preme sul tasto 'registra dipendente'. [Exception 1] [Exception 2] [Exception 3].


***Exceptions***

1. Se un utente con lo stesso nome e cognome e già presente nel database un errore e dato.

2. Se il formatto e lunghezza del numero di telefono o il formatto del email sono sbagliati un errore e dato. 

3. Se uno dei campi e vuoto un errore e dato.


### Comunicazione di registrazione {-}  

***Summary*** <!-- ma dovevo forse collegare il datalayer anche con questo? -->
Questo use case descrive la maniera in cui il sistema manda mail a un dipendente appena registrato. Il servizio e fatto tramite Gmail.

***Description***

1. Una mail contenente password auto generata viene inviata tramite uno degli account Gmail automatizzati della azienda al email del nuovo dipendente inserita dal amministratore. [Exception 1]

2. Una mail ricordando al nuovo dipendente di cambiare la sua password e inviata. [Exception 1]


***Exceptions***

1. Se l'email risulta invalida una email e inviata al l'amministratore responsabile della registrazione del nuovo impiegato avvisandolo del accaduto.



### UseCase Visualizza lista dipendenti {-}  

***Summary***

Questo use case descrive come un amministratore può visualizzare tutti gli dipendenti della azienda.

***Description***

1. L'amministratore visualizza una lista di tutti i dipendenti in ordine alfabetico. [Exception 1]

2. L'amministratore può inoltre selezionare il filtro ruolo,alfabetico o data di arruolamento.

3. L'amministratore seleziona il menu degli ulteriori filtri e ne seleziona uno specifico.[Exception 1]
<!-- repeat di dubbio numero 1. -->


***Exceptions***

1. Nessun dipendente soddisfa tale filtro; la lista è vuota e appare la scritta "Nessun dipendente"


### UseCase Dati singolo dipendente {-}  

***Summary***

Questo use case descrive come un amministratore può visualizzare e modificare i dati di un  dipendente della azienda.

***Description***

1. L'amministratore visualizza i dati del singolo impiegato.

2. L'amministratore preme su modifica dati.

3. L'amministratore modifica i campi che a voglia di cambiare.

4. L'amministratore preme su conferma [Exception 1][Exception 2][Exception 3].


***Exceptions***

1. Se un utente con lo stesso nome e cognome e già presente nel database un errore e dato.

2. Se il formatto e lunghezza del numero di telefono o il formatto del email sono sbagliati un errore e dato. 

3. Se uno dei campi e vuoto un errore e dato.



### UseCase Visualizza grafo vendite {-}  

***Summary***

Questo use case descrive come un amministratore può visualizzare un grafo delle vendite.

***Description***

1. L'amministratore visualizza un grafo delle vendite con granularita mensile. Il grafo inizialmente include nei suoi dati le vendite di tutti i modelli nel ultimo anno e mostra solo la quantità d'impianti venduti.

2. L'amministratore preme sul tasto 'intervallo tempo' e un calendario pop up permette di selezionare un mese d'inizio e uno di fine ha scelta del amministratore. [Exception 1]

3. L'amministratore può selezionare attraverso menu a tendina se visualizzare il grafo in funzione degli impianti o sensori venduti.

4. L'amministratore seleziona il menu degli ulteriori filtri e ne seleziona uno specifico.

***Exceptions***

1. L'amministratore non può selezionare un intervallo di tempo superiore ai 10 anni. inoltre non può selezionare date di inizio che precedono l'esistenza del azienda o date nel futuro.
F


### UseCase Visualizza grafo interventi {-}  

***Summary***

Questo use case descrive come un amministratore può visualizzare un grafo di tutti gli interventi su impianti del azienda.

***Description***

1. L'amministratore visualizza un grafo degli interventi con granularità mensile. Il grafo inizialmente include nei suoi dati le vendite di tutti i modelli nel ultimo anno e mostra solo la quantita di impianti venduti.

2. L'amministratore preme sul tasto 'intervallo tempo' e un calendario pop up permette di selezionare un mese di inizio e uno di fine a scelta del amministratore. [Exception 1]

3. L'amministratore può selezionare attraverso menu a tendina se visualizzare il grafo in funzione degli interventi conclusi o in corso.

4. L'amministratore seleziona il menu degli ulteriori filtri e ne seleziona uno specifico.

***Exceptions***

1. L'amministratore non può selezionare un intervallo di tempo superiore ai 10 anni. Inoltre non può selezionare date di inizio che precedono l'esistenza del azienda o date nel futuro.







\pagebreak
# Requisiti Non Funzionali

### RNF1 Privacy {-}

|Proprietà|Descrizione|Misura|
|---|------|------|
|GDPR|Il sistema deve rispettare il regolamento europeo 2016/679 noto come GDPR (General Data Protection Regulation).|Conforme: Privacy Policy, richiesta del consenso per l'utilizzo di Cookies, possibilità di cancellare i propri dati (account e impianti), possibilità di esportare i propri dati (account e impianti) |

### RNF2 Sicurezza {-}
|Proprietà|Descrizione|Misura|
|---|------|------|
|Trasmissione sicura|La trasmissione dei dati in ogni funzione deve avvenire in maniera sicura|Il sistema utilizza il protocollo HTTPS|
||||
|Password sicura|La password deve essere lunga almeno 8 caratteri e deve contenere almeno: una lettera maiuscola, una lettera minuscola, un numero|Nel [RF4](#a), [RF7](#a) il sistema non permette di inserire una password non sicura; nel [RF23](#a) il sistema genera una password sicura|
||||
|Password non in chiaro|La password non deve essere salvata in chiaro|Nel [RF4](#a), [RF7](#a), [RF23](#a) sul database è salvato un salted hash della password (funzione bcrypt)|
||||
|Logout|Un utente autenticato deve poter uscire dal proprio account|Funzione di logout [RF5.1](#a) presente|
||||
|Dipendenti dimessi|Un dipendente segnato come dimesso non deve poter autenticarsi nel sistema|Nel [RF5](#a), non è permessa l'autenticazione degli account di dipendenti dimessi|

### RNF3 Portabilità {-}
|Proprietà|Descrizione|Misura|
|---|------|------|
|Compatibilità per ogni RF| Ogni funzione deve essere funzionante sui seguenti sistemi operativi: Windows 7+, MacOS 10.6+, Android 5.0+, iOS 5.0+. Ogni funzione deve essere funzionante sui seguenti browser: Chrome 18+, Chrome Mobile 18+, Safari 5.1+, Safari Mobile 5.0+|Utilizzo di librerie compatibili, testing manuale di ogni funzione per le seguenti coppie (S.O., Browser): (Windows 7, Chrome 18), (MacOS 10.6, Chrome 18), (Android 5.0, Chrome Mobile 18), (iOS 5.0, Chrome Mobile 18), (MacOS 10.6, Safari 5.1), (iOS 5.0, Safari Mobile 5.0)|
||||
|Compatibilità per specifici RF|Le funzioni [RF.Tecnico](#tecnico), [RF.Supervisore](#supervisore), [RF.Amministratore](#amministratore) devono in aggiunta essere funzionanti sui seguenti sistemi operativi: Ubuntu 20.04+. Le specifiche funzioni devono in aggiunta essere funzionanti sui seguenti browser: Firefox 7+, Firefox Mobile 7+|Utilizzo di librerie compatibili, testing manuale delle specifiche funzioni per le seguenti coppie (S.O., Browser): (Ubuntu 20.04, Firefox 7), (Android 5.0, Firefox Mobile 7)|


### RNF4 Prestazioni {-}
<!--
Un software proprietario effettua in sequenza 10 test di prestazione sulla rete intranet di Ardeeno con browser compatibile Chrome su Windows; per ogni test la misurazione parte da quando <succede qualcosa> a quando <succede qualcosa>; il sistema soddisfa il RNF se almeno 7 test hanno durata di al più <x> secondi
-->

|Proprietà|Descrizione|Misura|
|---|----|-----------|
|Prestazioni acquisto|La funzione di acquisto [RF10](#a) deve essere eseguita dal sistema in al più 10 secondi|Un software proprietario effettua in sequenza 10 test di prestazione sulla rete intranet di Ardeeno con browser compatibile Chrome su Windows; per ogni test la misurazione parte da quando il form è inviato a quando appare la scritta "Acquisto concluso" (si utilizza una procedura di pagamento fittizia ed istantanea); il sistema soddisfa il RNF se almeno 7 test hanno durata di al più 10 secondi|
||||
|Prestazioni heatmap|La funzione del cliente [RF12](#a) deve essere eseguita dal sistema in al più 3 secondi|Un software proprietario effettua in sequenza 10 test di prestazione sulla rete intranet di Ardeeno con browser compatibile Chrome su Windows; per ogni test la misurazione parte da quando si richiede al sistema la heatmap dell'impianto a quando la pagina è completamente caricata dal browser (si utilizza un account cliente con un solo impianto modello AQ50A -- 50 sensori, 5 parametri misurati -- con 100 snapshot); il sistema soddisfa il RNF se almeno 7 test hanno durata di al più 5 secondi|
||||
|Prestazioni tecnici|Le funzioni dei tecnici [RF.Tecnico](#tecnico) devono essere eseguite in al più 3 secondi|Un software proprietario effettua in sequenza 10 test di prestazione sulla rete intranet di Ardeeno con browser compatibile Chrome su Windows; ogni test ha 3 sottotest; per il primo sottotest la misurazione parte da quando si richiede al sistema la pagina [RF20](#a) a quando la pagina è completamente caricata dal browser; per il secondo sottotest la misurazione parte da quando si seleziona un intervento dalla lista a quando appare la scritta "Sensore aggiunto"; per il terzo sottotest la misurazione parte da quando si seleziona un intervento dalla lista a quando appare "Intervento concluso"; il sistema soddisfa il RNF se almeno 7 test hanno ogni sottotest con durata di al più 3 secondi (si utilizza un account tecnico con 10 interventi assegnati in corso su 10 impianti)|

\pagebreak
### RNF5 Facilità d'uso {-}

<!--
A 10 dipendenti di Ardeeno sarà fornito: un dispositivo compatibile con Ardeeno WebApp (di cui 4 smartphones Android, 4 pc Windows, 2 tablet Android), l'URL della WebApp (ardeeno.it), un account di Ardeeno WebApp; saranno quindi date le seguenti istruzioni: "<istruzioni>"; la misurazione parte dal momento in cui si forniscono le istruzioni e si conclude quando <succede qualcosa>; il sistema soddisfa il RNF se almeno 7 dipendenti concludono il test in al più <x> minuti

Per 10 dipendenti di Ardeeno sarà organizzato un breve corso di formazione specifica di <x> minuti. Successivamente, verrà fatto un test. Ai 10 dipendenti di Ardeeno sarà fornito: un dispositivo compatibile con Ardeeno WebApp (di cui 4 smartphones Android, 4 pc Windows, 2 tablet Android), l'URL della WebApp (ardeeno.it), un account di Ardeeno WebApp; saranno quindi date le seguenti istruzioni: "<istruzioni>"; la misurazione parte dal momento in cui si forniscono le istruzioni e si conclude quando <succede qualcosa>; il sistema soddisfa il RNF se almeno 7 dipendenti concludono il test in al più <y> minuti  
-->

|Proprietà|Descrizione|Misura|
|---|----|-----------|
|Facilità d'uso utente anonimo|Un utente anonimo deve essere in grado di registrarsi e portare a termine un acquisto ([RF2](#a), [RF4](#a), [RF10](#a)) senza alcun addestramento, imparando in autonomia in meno di 5 minuti|A 10 dipendenti di Ardeeno sarà fornito: un dispositivo compatibile con Ardeeno WebApp (di cui 4 smartphones Android, 4 pc Windows, 2 tablet Android), l'URL della WebApp (ardeeno.it), un account email, un account PayPal; saranno quindi date le seguenti istruzioni: "Registrarsi e concludere un acquisto"; la misurazione parte dal momento in cui si forniscono le istruzioni e si conclude quando, successivamente al pagamento, appare la scritta "Acquisto concluso"; il sistema soddisfa il RNF se almeno 7 dipendenti concludono il test in al più 10 minuti|
||||
|Facilità d'uso supervisore|I supervisori devono imparare ad usare le funzioni [RF17](#a), [RF18](#a), [RF19](#a) con un corso di formazione specifica di al più 15 minuti.|Per 10 supervisori di Ardeeno sarà organizzato un breve corso di formazione specifica di 15 minuti. Successivamente, verrà fatto un test.  Ai 10 supervisori di Ardeeno sarà fornito: un dispositivo compatibile con Ardeeno WebApp (di cui 4 smartphones Android, 4 pc Windows, 2 tablet Android), l'URL della WebApp (ardeeno.it), un account di Ardeeno WebApp; saranno quindi date le seguenti istruzioni: "Visualizzare gli interventi, selezionare il più recente intervento di riparazione richiesto ed assegnarlo ad un tecnico qualsiasi in un giorno qualsiasi"; la misurazione parte dal momento in cui si forniscono le istruzioni e si conclude quando, successivamente all'assegnazione, appare la scritta "Intervento assegnato"; il sistema soddisfa il RNF se almeno 7 supervisori concludono il test in al più 5 minuti.|
||||
|Facilità d'uso tecnico|I tecnici devono imparare ad usare le funzioni [RF20](#a), [RF21](#a), [RF22](#a) con un corso di formazione specifica di al più 15 minuti|Per 10 tecnici di Ardeeno sarà organizzato un breve corso di formazione specifica di 15 minuti. Successivamente, verrà fatto un test.  Ai 10 tecnici di Ardeeno sarà fornito: un dispositivo compatibile con Ardeeno WebApp (di cui 4 smartphones Android, 4 pc Windows, 2 tablet Android), l'URL della WebApp (ardeeno.it), un account di Ardeeno WebApp, un sensore; saranno quindi date le seguenti istruzioni: "Visualizzare gli interventi assegnati, selezionare il più recente intervento di riparazione in corso, aggiungere il sensore fornito, scrivere il resoconto e concludere l'intervento"; la misurazione parte dal momento in cui si forniscono le istruzioni e si conclude quando appare la scritta "Intervento concluso"; il sistema soddisfa il RNF se almeno 7 tecnici concludono il test in al più 5 minuti |
||||
|Codice QR|L'id sensore deve essere compilabile sia con scrittura da tastiera che inquadrando un codice QR ISO/IEC 18004:2006 con la fotocamera del dispositivo con cui si utilizza il sistema|Funzione presente nel [RF22](#rfa)|

\pagebreak
### RNF6 Scalabilità {-}
<!--
Un software proprietario effettua in contemporanea <x> test di prestazione come da [RNF4.<prop>](#rnf4-prestazioni) (dove nel sistema sono presenti 1000 clienti con ognuno un impianto modello ME100A -- 100 sensori, 10 parametri misurati -- con $12*24*30*12*5=518400$ snapshot); il sistema soddisfa il RNF se almeno <y> test hanno durata di al più <z> secondi
-->

|Proprietà|Descrizione|Misura|
|---|----|-----------|
|Scalabilità acquisto|Il sistema deve mantenere le prestazione descritte in [RNF4.Acquisto](#rnf4-prestazioni) anche con 1000 clienti che contemporaneamente usano [RF10](#a)|Un software proprietario effettua in contemporanea 1000 test di prestazione come da [RNF4.Acquisto](#rnf4-prestazioni) (dove nel sistema sono presenti 1000 clienti con ognuno un impianto modello ME100A -- 100 sensori, 10 parametri misurati -- con $12*24*30*12*5=518400$ snapshot); il sistema soddisfa il RNF se almeno 700 test hanno durata di al più 10 secondi|
||||
|Scalabilità heatmap|Il sistema deve mantenere le prestazione descritte in [RNF4.Heatmap](#rnf4-prestazioni) anche con 1000 clienti che contemporaneamente usano [RF12](#a)|Un software proprietario effettua in contemporanea 1000 test di prestazione come da [RNF4.Heatmap](#rnf4-prestazioni) (dove nel sistema sono presenti 1000 clienti con ognuno un impianto modello ME100A -- 100 sensori, 10 parametri misurati -- con $12*24*30*12*5=518400$ snapshot); il sistema soddisfa il RNF se almeno 700 test hanno durata di al più 5 secondi|
||||
|Scalabilità tecnici|Il sistema deve mantenere le prestazione descritte in [RNF4.Tecnici](#rnf4-prestazioni) anche con 100 tecnici che contemporaneamente usano una qualsiasi delle funzioni [RF.Tecnico](#tecnico)|Un software proprietario effettua in contemporanea 1000 test di prestazione come da [RNF4.Tecnici](#rnf4-prestazioni) (dove nel sistema sono presenti 1000 clienti con ognuno un impianto modello ME100A -- 100 sensori, 10 parametri misurati -- con $12*24*30*12*5=518400$ snapshot); il sistema soddisfa il RNF se almeno 700 test hanno ogni sottotest con durata di al più 3 secondi|

# Analisi del Contesto

## Utenti e sistemi esterni

### Utente Anonimo {-}
L'Utente Anonimo è l'attore qualsiasi che accede al sistema. Egli può visualizzare la vetrina, visualizzare le recensioni, registrarsi, recuperare la password, confermare l'email ed autenticarsi. A seguito dell'autenticazione [RF5](#a) si specializza in Utente Autenticato.

### Utente Autenticato {-}
L'Utente Autenticato è colui che si è autenticato tramite [RF5](#a) e può in aggiunta fare il logout, visualizzare i dati dell'account e modificarli. Ogni Utente Autenticato è specializzato come Cliente o Dipendente.

### Cliente {-}
Il Cliente è colui che si è registrato nel sistema tramite [RF7](#a) allo scopo di acquistare un impianto. Egli può visualizzare i propri impianti, inserire recensioni, visualizzare le misurazioni, gli interventi e richiedere interventi di riparazione.

### Dipendente {-}
Il Dipendente è colui che è stato registrato nel sistema da un Amministratore tramite [RF23](#a); ogni Dipendente è specializzato come Tecnico o Supervisore.

### Tecnico {-}
Il Tecnico è colui che si occupa degli interventi di installazione, manutenzione, riparazione e dismissione degli impianti. Può visualizzare gli interventi che gli sono stati assegnati e per gli interventi in corso aggiungere/rimuovere sensori dall'impianto e concludere l'intervento con un resoconto.

### Supervisore {-}
Il Supervisore è colui che si occupa di assegnare gli interventi richiesti ad un tecnico in una certa data. Può quindi visualizzare tutti gli interventi e monitorarne lo svolgimento. Alcuni Supervisori sono specializzati in Amministratori.

### Amministratore {-}
L'Amministratore è colui che si occupa di gestire i Dipendenti, segnando i Dipendenti dimessi come tali e registrando tramite [RF23](#a) nuovi Dipendenti (Tecnici, Supervisori o Amministratori). In aggiunta un Amministratore può monitorare l'andamento delle vendite e degli interventi con grafici.

### PayPal {-}
PayPal è il sistema esterno subordinato tramite cui il Cliente effettua il pagamento per concludere l'acquisto di un impianto ([RF10](#a)). L'interazione con PayPal è guidata da ArdeenoWebApp all'invio del form di acquisto in [RF10](#a).

### Gmail {-}
Gmail è il sistema esterno subordinato tramite cui Ardeeno WebApp richiede l'invio delle email utilizzate per [RF6 Conferma email](#a), [RF7 Recupero password](#a), [RF9 Modifica dati personali](#a) (nel caso della modifica dell'email), [RF25 Modifica dati dipendente](#a) (nel caso della modifica dell'email) ed [RF16 Richiesta recensione](#a).

### TrustPilot {-}
TrustPilot è il sistema esterno subordinato tramite cui Ardeeno WebApp richiede e riceve le *service reviews*, le *product reviews* ed i codici per inserire le *product reviews*. TrustPilot è inoltre il sistema tramite cui il Cliente interagisce in maniera guidata in [RF16 Richiesta recensione](#a) per inserire una *product review*.

### OpenStreetMap {-}
OpenStreetMap è il sistema esterno subordinato tramite cui Ardeeno WebApp richiede e riceve mappe geografiche da utilizzare in [RF1 Visualizzazione presentazione](#a) ed [RF12 Visualizzazione misurazioni su heatmap](#a).

### GPS{-}
Il GPS è il sistema esterno subordinato tramite cui Ardeeno WebApp richiede e riceve le coordinate della posizione attuale per [RF22 Aggiunta/rimozione sensori da impianto](#a).

### Ardeeno DataLayer{-}
Ardeeno DataLayer è il sistema esterno paritario con cui Ardeeno WebApp interagisce continuamente per richiedere dati dal DB e inserire dati nel DB. Ardeeno WebApp si interfaccia con questo sistema in tutti i [RF](#a) esclusi: [RF1 Visualizzazione presentazione](#a), [RF5.1 Logout](#a), [RF16 Richiesta recensione](#a) (poiché le recensioni sono memorizzate da TrustPilot).
Il DB del DataLayer è gestito da cloud.mongodb.com .

## Diagramma di contesto

![Diagramma di contesto](./.media/contesto.png)

# Analisi dei Componenti

## Definizione dei componenti

## Diagramma dei componenti
